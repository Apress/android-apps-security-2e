This is source that is reverse engineered from the example in the chapter.